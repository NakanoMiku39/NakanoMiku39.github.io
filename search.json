[{"title":"部署Blessing skin server中遇到的问题","url":"/2024/09/09/部署Blessing-skin-server中遇到的问题/","content":"浅浅记录一下给社团安装Blessing skin server时踩的坑：\n## 1. 选择Apache还是Nginx还是Caddy\n原本打算使用Nginx，但由于php的fastcgi在Nginx上配置麻烦，于是转而使用了Caddy\n> 也不是麻烦，只是没有仔细阅读https://www.digitalocean.com/community/tutorials/php-fpm-nginx\n\n## 2. 为什么访问页面403\n检查目录权限问题\n\n## 3. 为什么访问不到页面/为什么访问页面后直接下载了index.php\n检查配置文件中（Caddyfile）是否有如下对php-fastcgi的配置  \n`php_fastcgi unix//run/php/php8.1-fpm.sock`  \n尤其注意是否与路径`/etc/php/8.1/fpm/pool.d/www.conf`中`listen = /run/php/php8.1-fpm.sock`对应\n\n## 4. 为什么setup时配置服务器后显示could not find driver\n缺少了PDO拓展  \n检查是否安装了`php-pgsql` / `php-mysql`插件，然后重启php\n\n## 5. 为什么配置了https就没法访问但配置了http就可以\n社团有一个https透明代理，如果Caddyfile还是用`https://`就会导致问题，具体表现可能有502重定向次数过多，只需要用`http://`就行  \n> 如果使用Nginx的话应该就没有这个问题 -- syh\n\n## 6. `caddy start`和`systemctl start caddy`有什么区别\n`caddy start`是将Caddy作为后台进程给运行，而`systemctl start caddy`是系统进程  \n如果当前会话中断，由`caddy start`启动的Caddy进程也会结束\n","tags":["我的世界","皮肤站","php","caddy"],"categories":["服务器"]},{"title":"文章归档","url":"/archives.html"}]